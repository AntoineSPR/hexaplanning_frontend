<div class="reset-password-container">
  <p-toast></p-toast>

  <p-card header="Réinitialiser le mot de passe" class="reset-password-card">
    <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()" class="reset-password-form">
      <div class="form-field">
        <label for="newPassword" class="form-label">Nouveau mot de passe *</label>
        <p-password
          formControlName="newPassword"
          [toggleMask]="true"
          placeholder="Entrez votre nouveau mot de passe"
          [class.p-invalid]="hasNewPasswordError"
          class="form-input"
          [feedback]="true"
          promptLabel="Entrez un mot de passe"
          weakLabel="Faible"
          mediumLabel="Moyen"
          strongLabel="Fort"></p-password>
        @if (hasNewPasswordError) {
        <small class="p-error">
          {{ newPasswordError }}
        </small>
        }
      </div>

      <div class="form-field">
        <label for="confirmPassword" class="form-label">Confirmer le nouveau mot de passe *</label>
        <p-password
          formControlName="confirmPassword"
          [toggleMask]="true"
          [feedback]="false"
          placeholder="Confirmez votre nouveau mot de passe"
          [class.p-invalid]="hasConfirmPasswordError"
          class="form-input"></p-password>
        @if (hasConfirmPasswordError) {
        <small class="p-error">
          {{ confirmPasswordError }}
        </small>
        }
      </div>

      <div class="form-actions">
        <p-button type="submit" label="Réinitialiser le mot de passe" [loading]="isLoading" class="submit-button" [disabled]="isLoading"></p-button>
      </div>

      <div class="form-footer">
        <p><a routerLink="/login" class="login-link">Retour à la connexion</a></p>
      </div>
    </form>
  </p-card>
</div>
